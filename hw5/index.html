<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>

<!-- 1B -->
    <style>
        .country {
            fill: lightgrey;
            stroke: none;
        }
        .outline {
            stroke:black;
            stroke-width:1px;
            fill:none;
        }
        .graticule {
            fill:none;
            stroke:lightgrey;
        }
    </style>
</head>
<body>
    <p id='q3'>
        <svg id='mercator' width=600 height=400>
        </svg>
        <p id='1D'>
            3 sentences identifying a) an advantage of this Mercator projection, b) a potential draw-back of this projection or places where it might be misleading, and c) a specific example use case for which it would be well suited.
        </p>
        <svg id='equalEarth' width=600 height=400></svg>
        <p id='1E'>
                write about 3 sentences identifying a) an advantage of this Equal Earth projection, b) a draw-back of this projection or places where it might be misleading, and c) a specific example use case for which it would be well suited.
            </p>
    </p>
    <script>
// 1A
        const error = "Error detected";
        var merSvg = d3.select('#mercator');
        var merWidth = merSvg.attr('width');
        var merHeight = merSvg.attr('height');

        var world = d3.json('world_110m.json').then(function(load){
            var countries = topojson.feature(load, load.objects.countries);
            // console.log(countries);
            var countriesMesh = topojson.mesh(load, countries);
            // console.log(countriesMesh);
            var merProj = d3.geoMercator().fitSize([merWidth, merHeight],countries);
            var merPath = d3.geoPath().projection(merProj);

// 1C
            merSvg.append("path")
                .attr('class', 'graticule')
                .attr('d', merPath(d3.geoGraticule10()));
            merSvg.selectAll('path')
                .data(countries.features)
                .enter()
                .append('path')
                .attr('class', 'country')
                .attr('d', merPath);
            merSvg.append('path')
                .datum(countriesMesh)
                .attr('class', 'outline');
        
            var equalSvg = d3.select('#equalEarth');
            var equalWidth = equalSvg.attr('width');
            var equalHeight = equalSvg.attr('height');
            var equalProj = d3.geoEqualEarth().fitSize([equalWidth,equalHeight],countries);
            var equalPath = d3.geoPath().projection(equalProj);
            equalSvg.append("path")
                .attr('class', 'graticule')
                .attr('d', equalPath(d3.geoGraticule10()));
            equalSvg.selectAll('path')
                .data(countries.features)
                .enter()
                .append('path')
                .attr('class', 'country')
                .attr('d', equalPath);
            equalSvg.append('path')
                .datum(countriesMesh)
                .attr('class', 'outline'); 

        }).catch(function(e){
            console.log("Error: "+e.message)
            throw new Error(error);
        });

    </script>
</body>
</html>